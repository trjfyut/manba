
# 3D飞机跑酷游戏 - 使用说明文档

## 游戏概述

这是一个3D飞机跑酷游戏，玩家控制一架飞机在无尽的场景中飞行，躲避障碍物并收集物品。游戏随时间增加难度，玩家需要尽可能地飞行更远距离并获得更高分数。

## 安装说明

1. 下载游戏项目文件
2. 使用Unity 2020.3或更高版本打开项目
3. 确保已安装TextMeshPro包
4. 打开主场景（通常为"MainScene"）
5. 点击Play按钮开始游戏

## 游戏控制

- **W/上箭头**：向下飞行
- **S/下箭头**：向上飞行
- **A/左箭头**：向左飞行
- **D/右箭头**：向右飞行
- **K键**：测试模式下减少血量（仅用于调试）
- **-键**：测试模式下减少血量（仅用于调试）
- **=键**：测试模式下增加血量（仅用于调试）

## 游戏目标

1. 尽可能飞行更远距离
2. 躲避障碍物以保持血量
3. 收集物品获得分数
4. 每飞行100米自动获得额外分数

## 游戏机制

### 1. 飞行控制
- 飞机会根据输入方向平滑移动
- 飞机会根据移动方向倾斜，提供视觉反馈
- 飞行区域有边界限制，防止飞出游戏区域

### 2. 血量系统
- 玩家初始有10点血量
- 碰撞障碍物减少1点血量
- 收集健康道具恢复1点血量
- 血量为0时游戏结束
- 受伤后有短暂无敌时间，防止连续伤害

### 3. 障碍物和收集品
- 障碍物随机生成，碰撞会减少血量
- 收集品随机生成，收集可获得10分
- 障碍物和收集品会随着游戏进行而加速移动

### 4. 难度系统
- 游戏速度随时间逐渐增加
- 障碍物生成间隔随时间逐渐减少
- 障碍物可能有不同的旋转角度，增加难度

### 5. 分数系统
- 收集物品获得10分
- 每飞行100米获得5分
- 游戏结束时显示最终分数和距离
- 保存并显示历史最高分

## 项目结构

### 核心脚本

1. **GameManager.cs**
   - 管理游戏状态、分数和UI更新
   - 控制游戏开始、结束和重启
   - 保存和加载高分

2. **PlayerController.cs**
   - 处理玩家输入和飞机移动
   - 管理碰撞检测和伤害处理
   - 提供视觉和音频反馈

3. **HealthSystem.cs**
   - 管理玩家血量
   - 更新血量UI显示
   - 处理伤害和恢复逻辑

4. **ObstacleGenerator.cs**
   - 生成和管理障碍物和收集品
   - 控制障碍物移动和清理
   - 随时间增加难度

5. **SceneScroller.cs**
   - 管理场景的滚动和生成
   - 计算行进距离
   - 随时间增加速度

6. **FirstPersonCamera.cs**
   - 控制第一人称相机视角
   - 提供平滑的相机跟随效果

7. **CollisionDetector.cs**
   - 提供额外的碰撞检测功能
   - 将碰撞事件转发给PlayerController处理

### 场景设置

1. **玩家飞机**
   - 添加PlayerController和HealthSystem组件
   - 设置适当的碰撞体大小和位置
   - 添加必要的视觉模型和效果

2. **障碍物生成器**
   - 添加ObstacleGenerator组件
   - 设置障碍物和收集品预制体
   - 配置生成参数和难度曲线

3. **场景滚动器**
   - 添加SceneScroller组件
   - 设置场景部分预制体
   - 配置滚动速度和加速率

4. **UI设置**
   - 设置分数、距离和血量显示
   - 创建游戏结束面板
   - 设置重启按钮

## 配置指南

### 标签设置
必须在Unity编辑器中创建以下标签：
1. "Obstacle" - 用于障碍物
2. "Collectible" - 用于收集品
3. "HealthItem" - 用于恢复血量的道具（可选）

### 预制体设置
1. **障碍物预制体**
   - 添加适当的视觉模型
   - 确保有碰撞体组件
   - 设置"Obstacle"标签

2. **收集品预制体**
   - 添加适当的视觉模型
   - 确保有碰撞体组件
   - 设置"Collectible"标签

3. **场景部分预制体**
   - 创建场景的各个部分
   - 确保尺寸匹配以无缝连接

### 参数调整
可以通过调整以下参数来自定义游戏体验：

1. **PlayerController**
   - moveSpeed：飞机移动速度
   - horizontalLimit/verticalLimit：飞行边界
   - tiltAmount：飞机倾斜角度
   - invincibilityTime：受伤后无敌时间

2. **HealthSystem**
   - maxHealth：最大血量
   - lowHealthThreshold：低血量阈值（血量条变红）

3. **ObstacleGenerator**
   - spawnInterval：障碍物生成间隔
   - minSpawnInterval：最小生成间隔
   - horizontalRange/verticalRange：生成范围
   - scrollSpeed：障碍物移动速度

4. **GameManager**
   - initialGameSpeed：初始游戏速度
   - maxGameSpeed：最大游戏速度
   - gameSpeedIncreaseRate：游戏加速率

## 调试功能

游戏包含以下调试功能：

1. **K键减少血量**：按K键可手动减少1点血量，包括所有视觉和音效反馈
2. **-键减少血量**：按减号键可手动减少1点血量（无视觉反馈）
3. **=键增加血量**：按等号键可手动增加1点血量
4. **调试日志**：控制台输出详细的调试信息，帮助排查问题
5. **射线可视化**：在Scene视图中可以看到碰撞检测射线

## 常见问题解决
1. **碰撞检测不工作**
   - 确保已创建所有必要的标签
   - 检查障碍物和玩家的碰撞体设置
   - 确保物理层设置允许碰撞
2. **字体显示问题**
   - 游戏使用英文显示，避免Unicode字符问题
   - 如需使用其他语言，请导入支持相应字符的字体
3. **性能问题**
   - 减少同时生成的障碍物数量
   - 降低场景复杂度
   - 优化碰撞体形状和大小
4. **游戏平衡性**
   - 调整障碍物生成频率和速度
   - 修改血量和伤害值
   - 调整分数奖励机制

如果您需要一个实例，请访问
作者

---

祝您游戏开发顺利！如有任何问题，请参考代码中的详细注释或联系开发者获取支持。
